<html><head><title>Pic Flag</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="../../pixastic.core.js"></script>
<script src="../../pixastic.jquery.js"></script>
<script src="../../actions/kmeans.js"></script>
<style>
.color {
    width: 150px;
    height: 150px;
}
</style>
<script>

function kmeans() {
    var params = {};
    var ret = $("#rain").pixastic("kmeans", params);
    var colors = params["centroids"];
    console.log("colors: ", colors, params, ret);

    var one   = "rgb("+colors[0][0]+","+colors[0][1]+","+colors[0][2]+")";
    var two   = "rgb("+colors[1][0]+","+colors[1][1]+","+colors[1][2]+")";
    var three = "rgb("+colors[2][0]+","+colors[2][1]+","+colors[2][2]+")";

    $("#color1").css("background-color", one)
    $("#color2").css("background-color", two)
    $("#color3").css("background-color", three)
}

$(function() {
    //var ctx = $('#picflag')[0].getContext("2d");
    $("#rain").load(kmeans);
});
</script>
</head>
<body>
    <img id="rain" src="rain.jpg">
    <div id="color1" class="color"></div>
    <div id="color2" class="color"></div>
    <div id="color3" class="color"></div>
</body>
</html>
