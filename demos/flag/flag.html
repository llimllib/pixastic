<html><head><title>Pic Flag</title>
<script src="jquery.min.js"></script>
<script src="../../pixastic.core.js"></script>
<script src="../../pixastic.jquery.js"></script>
<script src="../../actions/kmeans.js"></script>
<style>
.color {
    width: 150px;
    height: 150px;
    float:left;
}
</style>
<script>

function kmeans() {
    var params = {};
    var ret = $("#rain").pixastic("kmeans", params);
    var colors = params["centroids"];
    console.log("colors: ", colors, params, ret);

    for (var i=0; i < colors.length; i++) {
      var color = "rgb("+colors[i][0]+","+colors[i][1]+","+colors[i][2]+")";
      var span = '<div class="color" style="background-color:'+color+'"></div>'
      console.log(span)
      $("#colors").append(span);
    }
}

$(function() {
    $("#rain").load(kmeans);
});
</script>
</head>
<body>
    <img id="rain" src="rain.jpg">
    <div id="colors" style="height:150px"></div>
</body>
</html>
